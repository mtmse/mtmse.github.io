<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.9) on Wed Feb 24 13:41:02 CET 2021 -->
<title>org.daisy.dotify.tasks.impl.input.xml (dotify.task.impl 5.0.1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-02-24">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="org.daisy.dotify.tasks.impl.input.xml (dotify.task.impl 5.0.1 API)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<main role="main">
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.daisy.dotify.tasks.impl.input.xml</h1>
</div>
<div class="contentContainer">
<section role="region"><a id="package.description">
<!--   -->
</a>
<div class="block"><p>
 Provides input implementations. Dotify comes with a flexible input format system that 
 can be extended to support any xml-format (this package). The XML input format system 
 manages the conversion from any xml-format to OBFL.</p>
 
 <p>The decision tree includes many configurable parts. When running Dotify, one of the 
 required parameters is context locale. The context locale is the locale in which the 
 output is to be consumed.</p>
 
 <h3>Localization catalog</h3>
 <p>The first configurable part of the input system is the localization_catalog.xml
 which is scanned for supported locales, for example 'en-US'. It connects a locale 
 with a base folder for the input system. This folder will be used when looking for
 file references for that locale. Note that:</p>
 <ul><li>The base folder in the localization catalog is relative to the 
 <code>XMLInputManagerFactory</code> class.</li>
 <li><b>An entry in the localization catalog is 
 required for a locale to be supported.</b> However, no files are required to be localized.</li>
 </ul>
 
 <p>In addition to the base folder supplied in the localization catalog, there is a 
 fallback base folder called "common" which is used if the input system fails
 to locate a resource in the base folder of the locale.</p>
 
 <h3>localization.xml</h3>
 <p>A mechanism for supplying content localization exists in this package.
 This is useful when there are a lot of formats to manage and the
 localization information must be updated or if a fallback input transformation is 
 used. Therefore, care must be taken to ensure that the same keys  are used in all 
 input transformations in this package.</p>
 
 <h3>Template selection</h3>
 <p>The process of interpreting an input file format as OBFL is managed by 
 <code>XMLTaskListFactory</code>. This
 class connects a root element and namespace with a filename. The location of this 
 file is determined by the template. In other words, the properties file should be located
  in the "templates/[template]" folder of the localization base folder. The properties 
 file should contain two entries: transformation and validation, pointing to the xslt 
 and schema required by the input format.</p>
  
 <h3>Conversions of DTBook</h3>
 <ul>
 <li><a href="../../../../../../resources/org.daisy.dotify.tasks.impl.input.xml.resource-files.common.xslt-files.dtbook2obfl_base.html">dtbook2obfl_base.xsl</a></li>
 <li><a href="../../../../../../resources/org.daisy.dotify.tasks.impl.input.xml.resource-files.common.xslt-files.xml2flow.html">xml2flow.xsl</a></li>
 <li><a href="../../../../../../resources/org.daisy.dotify.tasks.impl.input.xml.resource-files.common.xslt-files.dtbook2obfl_layout.html">dtbook2obfl_layout.xsl</a></li>
 <li><a href="../../../../../../resources/org.daisy.dotify.tasks.impl.input.xml.resource-files.common.xslt-files.dtbook2obfl_braille.html">dtbook2obfl_braille.xsl</a></li>
 <li><a href="../../../../../../resources/org.daisy.dotify.tasks.impl.input.xml.resource-files.common.xslt-files.dtbook2obfl_text.html">dtbook2obfl_text.xsl</a></li>
 </ul>
 <h3>Adding an input format conversion</h3>
 <p>
 Detecting an XML input format is easy, thanks to the XMLInputManager. It is
 specifically designed to inject the correct validation rules and XSLT
 stylesheet for any XML-format and locale combination into the task chain.
 </p>
 <p>
 Adding a new format involves the following:
 </p>
 <ol>
 <li>Modify the input_format_catalog.xml</li>
 <li>Add a selector file in the folder hierarchy</li>
 <li>Add the desired validation rules and style sheets in folder hierarchy</li>
 </ol>
 
 <p>
 1. Modifying the input format catalog involves adding an entry for the new
 format. The key must be the root element of the format followed by '@' and
 the namespace of the root element. The value for this key should be a short
 but descriptive filename for the format. Typically, the root element followed
 by '.properties' will suffice as filename. However, the filename must be
 unique throughout the file, so another name may have to be chosen.
 </p>
 
 <p>
 2. Add a selector file into the folder hierarchy in the appropriate location
 of the folder hierarchy. The selector file should
 contain two entries: a path to the validation file and a path to the
 transformation file (relative to the root folder of the locale).
 </p>
 
 <p>
 3. Add the desired validation and stylesheets files to the folder hierarchy
 as indicated by the selector file. If there already exists an XSLT for the 
 input format for another locale, the stylesheet could be copied into the desired
 locale's directory and then modified. It is not recommended to extend another
 locale's stylesheets.</p>
 
 <p><b>IMPORTANT: This package contains implementations that should only be 
 accessed using the Java Services API. Additional classes in this package 
 should only be used by these implementations. This package is not part of the 
 public API.</b>
 </p></div>
</section>
<ul class="blockList">
<li class="blockList">
<table class="typeSummary">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CommonResourceLocator.html" title="class in org.daisy.dotify.tasks.impl.input.xml">CommonResourceLocator</a></th>
<td class="colLast">
<div class="block">Provides a resource locator for resources in this package.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="XMLInputManager.html" title="class in org.daisy.dotify.tasks.impl.input.xml">XMLInputManager</a></th>
<td class="colLast">
<div class="block">Provides a method to determine the input format and load the 
 appropriate settings based on the detected input format.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="XMLInputManagerFactory.html" title="class in org.daisy.dotify.tasks.impl.input.xml">XMLInputManagerFactory</a></th>
<td class="colLast">
<div class="block">Provides an XML input manager factory.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary">
<caption><span>Enum Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Enum</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="XMLL10nResourceLocator.html" title="enum in org.daisy.dotify.tasks.impl.input.xml">XMLL10nResourceLocator</a></th>
<td class="colLast">
<div class="block">Provides a resource locator for xml localization data.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="TaskCreationException.html" title="class in org.daisy.dotify.tasks.impl.input.xml">TaskCreationException</a></th>
<td class="colLast">
<div class="block">Provides a task creation exception.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
